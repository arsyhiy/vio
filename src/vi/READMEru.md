этот каталог и его подкаталоги содержат файлы, необходимые для сборки ex/vi в окружении BTL UNIX:

Вот список всех важных каталогов и того, что скрывается под каждым из них:

    misc — содержит файлы, используемые для сборки ex/vi, такие как {mkstr.c, xstr.c и другие}.

    vax — исходный код ex/vi для платформы vax, 3B, C70, 370 и pdp 11/70 (тип UNIX = ov — с оверлеями).

    pdp11 — исходный код ex/vi для платформы pdp11/70 (тип UNIX = od — без оверлеев).
    local — содержит файл "uparm.h", который необходимо отредактировать, чтобы он соответствовал вашей системе!
    ПРИМЕР:

    #define libpath(file) "/usr/lib/file"
    #define loclibpath(file) "/usr/lib/file"
    #define binpath(file) "/usr/lbin/file"
    #define usrpath(file) "/usr/file"

    libpath — это путь, по которому ex/vi ожидает строки файлов (например, ex2.16strings или ex3.9strings — этот файл создается при компиляции исходников ex/vi), а также команды восстановления и сохранения ex/vi (ex2.16preserve или ex3.9preserve).
    usrpath — это место, где хранятся сохраненные файлы после сбоя или завершения работы программы. К строке usrpath добавляется preserve.

Посмотрите исходный код, внесите все необходимые изменения в local/uparm.h (и исходники ex, если нужно), затем выполните команду "makevi". makevi — это оболочка, которая направляет вас через процесс сборки ex/vi.

Пути, которые следует проверить (и, возможно, изменить), включают:

    vax/makefile.u3 ---|
    pdp11/makefile.u3 ---| — строковые файлы редактора, команды сохранения и восстановления, которые устанавливаются в ${DESTDIR}${LIBDIR}... убедитесь, что это именно то место, куда вы хотите их установить. Этот путь должен совпадать с путем, определенным в local/uparm.h, где переменная называется usrpath.

В случае сбоя редактор поместит копию временного файла в место, определенное как ${DESTDIR}/usr/preserve.
